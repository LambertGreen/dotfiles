# Component-based installation system

# Show installation help
@install-help:
    echo "ğŸ“¦ Installation System"
    echo ""
    echo "Components:"
    echo "  cli   - Command line essentials"
    echo "  dev   - Development environment"
    echo "  gui   - GUI applications"
    echo ""
    echo "Usage:"
    echo "  just install show              - Show all components"
    echo "  just install cli <platform>    - Install CLI tools"
    echo "  just install dev <platform>    - Install dev tools"
    echo "  just install gui <platform>    - Install GUI apps"
    echo "  just install all <platform>    - Install everything"
    echo ""
    echo "Platforms: arch, ubuntu, osx, win-wsl, win-msys2"

# Show what's in each component
@install-show:
    echo "ğŸ“‹ Component Definitions"
    echo ""
    echo "â”â”â” CLI Tools â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "Essential command line tools:"
    echo "  â€¢ git, stow, just"
    echo "  â€¢ zsh, bash, tmux"
    echo "  â€¢ vim, nano"
    echo "  â€¢ curl, wget, rsync"
    echo "  â€¢ htop, tree, fd, ripgrep"
    echo ""
    echo "â”â”â” Dev Tools â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "Development environment:"
    echo "  â€¢ Editors: neovim, emacs"
    echo "  â€¢ Languages: python, node, rust, go"
    echo "  â€¢ Tools: docker, make, gcc"
    echo "  â€¢ Version managers: pyenv, nvm"
    echo ""
    echo "â”â”â” GUI Apps â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "Graphical applications (platform-specific):"
    echo "  â€¢ Terminals: wezterm, alacritty"
    echo "  â€¢ Browsers: firefox, chrome"
    echo "  â€¢ Editors: vscode, sublime"
    echo "  â€¢ Platform: Alfred (mac), AutoHotkey (win)"

# Install CLI tools
@install-cli platform:
    echo "ğŸ“¦ Installing CLI tools for {{platform}}..."
    cd configs && just stow-{{platform}}-minimal
    cd ~/.package_management/install && just install-cli-{{platform}}

# Install dev tools
@install-dev platform:
    echo "ğŸ› ï¸  Installing dev tools for {{platform}}..."
    just install-cli {{platform}}  # Dev depends on CLI
    cd ~/.package_management/install && just install-dev-{{platform}}

# Install GUI apps
@install-gui platform:
    echo "ğŸ–¥ï¸  Installing GUI apps for {{platform}}..."
    cd ~/.package_management/install && just install-gui-{{platform}}

# Install everything
@install-all platform:
    echo "ğŸš€ Installing complete environment for {{platform}}..."
    just install-cli {{platform}}
    just install-dev {{platform}}
    just install-gui {{platform}}

# Platform-specific full configs
@install-home-osx:
    echo "ğŸ  Setting up home macOS environment..."
    just install-all osx
    # Additional home-specific configs

@install-work-osx:
    echo "ğŸ¢ Setting up work macOS environment..."
    just install-cli osx
    just install-dev osx
    # Skip personal GUI apps